/*! theme - v1.0.0 - 2017-12-07 */
if ("undefined" == typeof jQuery) throw new Error("Theme's JavaScript requires jQuery");
jQuery(document).ready(function(e) {
    function t() {
        e(".filterable").hide(), e(".filterable").removeClass("matched"), e(".filterable").removeClass("last_in_row"), e(".no_results").hide();
        var t = function() {
            var t = {};
            return e(".filter_group").each(function(c) {
                var i = e(this).attr("data-param"),
                    a = e(this).find("[type='checkbox']:checked");
                    var el=[];
                 	e.each(a, function(index, ele) {
                       el.push(e(this).val());
                 	}); 
                    a.length > 0 && (t[i] = el)
            }), t
        }();
        if (Object.keys(t).length > 0) {
            e(".filterable").removeClass("filter_hide");
            e(".filterable").each(function(c) {
                ! function(t, c) {
                    var i = t,
                        a = !1,
                        r = !1;
                    e.each(c, function(t, c) {
                     if(i.hasClass('filter_hide')){
                           return 0;
                        }
                    	e.each(c, function(index, c) {
                            var my_attr_vals = i.attr("data-" + t).split("-");
                            if(( i.attr("data-" + t)==c)||(e.inArray(c, my_attr_vals) != -1)){
                                 i.addClass("matched");
                                 i.removeClass('filter_hide')
                                 i.show();
                            }else{
                                i.addClass("filter_hide");
                            }
                    		//var t_ne= r ? (a = !1, !1) : i.attr("data-" + t) ? (my_attr_vals = i.attr("data-" + t).split("-"), -1 === e.inArray(c, my_attr_vals) ? (r = !0, a = !1, !1) : void(a = !0)) : (a = !1, !1);
                            
                    	});
                    })
                }(e(this), t)
            }), c(!0)
        } else c(!1), e(".filterable").show();
        console.log(e(".matched").length + " / " + e(".filterable").length)
    }

    function c(t) {
        items_to_select = ".filterable", t && (items_to_select = ".filterable.matched");
        var c = 0;
        e(".items_group").each(function() {
            e(this).find(items_to_select).each(function(t) {
                c++, (t + 1) % 3 == 0 && e(this).addClass("last_in_row")
            }), 0 == c && e(this).find(".no_results").show()
        })
    }
    e(".filter_cont .filter_checkbox").click(function() {
        my_check = e(this).closest(".filter_cont").find(".filter_checkbox"), e(this).closest(".filter_group").find(".filter_checkbox").not(my_check).attr("checked", !1), my_check.is(":checked") ? my_check.attr("checked", !1) : my_check.attr("checked", !0), t()
    })
});